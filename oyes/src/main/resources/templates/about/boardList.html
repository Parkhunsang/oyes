<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<th:block th:insert="~{/header.html::header}"></th:block>
<head>
<meta charset="UTF-8">
<title th:text="${board_kind}=='NOTICE' ? '공지사항' : '보도자료'"></title>
<style>
.wrap{
    max-width: 1200px;
    margin: 200px auto;
    padding: 20px;
    line-height: 1.8;
    color: #333;
}
h1{
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 24px;
}
.toolbar{
	display:flex;
	gap:8px;
	justify-content:flex-end;
	align-items:center;
	margin-bottom:10px
}
.toolbar input[type=text]{
	width:260px;
	height:36px;
	padding:0 10px;
	border:1px solid gray;
	border-radius:4px
}
.btn{
	height:36px;
	padding:0 14px;
	border:1px solid;
	background:#0080ff;
	color:#fff;
	border-radius:4px;
	text-decoration:none;
	display:inline-flex;
	align-items:center
}
.btn-outline{
	background:#fff;
	color:#111;
	border-color:#cbd5e1
}
table{
	width:1200px;
	border-collapse:collapse;
	margin-top:20px;
	font-size: 15px;
}
table thead tr {
  background-color: #f5f5f5; /* 헤더 배경 */
  border-top: 2px solid #444;
  border-bottom: 1px solid #ccc;
}
table th, table td{
	border-top:2px solid #cbd5e1;
	border-bottom:1px solid #e5e7eb;
	padding:12px 10px;
	text-align:center;
}
table td:nth-child(2) {
  text-align: left; /* 제목은 왼쪽 정렬 */
}

table tbody tr:hover {
  background-color: #f9f9f9; /* hover 효과 */
}
.col-no {
  width: 8%;
}

.col-date {
  width: 15%;
}

.table-warning {
  color: #ff4d4f;
  font-weight: bold;
}
.pagination {
  display: flex;
  justify-content: center; /* 가운데 정렬 */
  list-style: none;
  padding: 0;
  margin: 20px 0;
}

.pagination li {
  margin: 0 5px;
}

.pagination a {
  display: block;
  padding: 6px 12px;
  text-decoration: none;
  border: 1px solid #ddd;
  color: #333;
  border-radius: 4px;
}

.pagination a:hover {
  background-color: #f0f0f0;
}

.pagination .active a {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}
</style>
</head>
<body>
	<div layout:fragment="contentFragment">
		<div class="container text-center">
			<div class="contTopBar contTopBar-bg01">
			<!-- inner -->
				<div class="inner">
					<!-- breadcrumb -->
					<div class="breadcrumb cf">
						<strong class="he">현재 위치:</strong>
						<div class="item">
							<a th:href="@{/}" class="home ht">Home</a>
						</div>
						<div class="item">
							<em>병원소개</em>
							<button type="button" class="bcLinkLayerBtn ht">주 메뉴 목록 열기</button>
							<ul class="bcLinkLayer">
								<li><a th:href="@{/about/greeting}">병원소개</a></li>
							</ul>
						</div>
						<div class="item">
							<em>병원소식</em>
							<button type="button" class="bcLinkLayerBtn ht">서브 메뉴 목록 열기</button>
							<ul class="bcLinkLayer">
								<li><a th:href="@{/about/greeting}">병원장 인사말</a></li>
								<li><a th:href="@{/about/tour}">병원 둘러보기</a></li>
								<li><a th:href="@{/about/mission}">미션과 비전</a></li>
								<li><a th:href="@{/about/history}">연혁</a></li>
								<li><a th:href="@{/about/hi}">HI</a></li>
								<li><a th:href="@{/about/boardList}">병원소식</a></li>							
							</ul>	
						</div>
						<div class="item">
							<em th:text="${board_kind}=='NOTICE' ? '공지사항' : '보도자료'"></em>
							<button type="button" class="bcLinkLayerBtn ht">서브 메뉴 목록 열기</button>
							<ul class="bcLinkLayer">
								<li><a th:href="@{/about/boardList(board_kind='NOTICE')}">공지사항</a></li>
								<li><a th:href="@{/about/boardList(board_kind='PRESS')}">보도자료</a></li>
								<li><a th:href="@{/about/careersList}">채용공고</a></li>							
							</ul>	
						</div>
					</div>
				</div>
			</div>
			<main class="wrap">
			  	<!-- 제목: notice → 공지사항 / press → 보도자료 -->
			  	<h1 th:text="${board_kind}=='NOTICE' ? '공지사항' : '보도자료'"></h1>
			  	<!-- 검색 & (옵션) 등록 버튼 -->
				<form class="toolbar" th:action="@{/about/boardList(board_kind=${board_kind})}" method="get">
				    <select name="search">
						<option value="board_title"   th:selected="${search}=='board_title'">제목</option>
						<option value="board_content" th:selected="${search}=='board_content'">내용</option>
						<option value="subcon"  th:selected="${search}=='subcon'">제목+내용</option>
				    </select>
			    	<input type="text" name="keyword" th:value="${keyword}" placeholder="검색어를 입력하세요">
			    	<button class="btn" type="submit">검색</button>
				</form>
				<table>
		    		<thead>
					    <tr>
					    	<td class="col-no">번호</td>
					      	<td>제목</td>
					      	<td>조회수</td>
					      	<td class="col-date">작성일</td>
					    </tr>
				    </thead>
				    <tbody>
				    	<tr th:if="${#lists.size(list)} == 0">
				    		<td colspan="4">데이터가 없습니다</td>
					    </tr>
					    <th:block th:each="board, st : ${list}">
					    	<tr th:if="${board != null and (board.board_is_active != 'y' or board.patient_no == 10000000)}">
					          	<td th:text="${st.count}"></td>
							    <td>
					            	<span th:if="${board.board_is_active == 'y' and board.patient_no == 10000000} " class="table-warning">[삭제된 글]</span>
					            	<a th:href="@{/about/boardView(num=${board.boardno}, board_kind=${board_kind})}"
					               	   th:text="${board?.board_title}">[[${board.board_title}]]</a>
					          	</td>
								<td th:text="${board.board_readCnt}"></td>
								<td th:text="${#dates.format(board?.board_create_date,'yyyy-MM-dd')}"></td>
							</tr>
						</th:block>
				    </tbody>
				</table>
			</main>
			<ul class="pagination justify-content-center">
			    <!-- 앞에 보여줄게 있다 -->
			    <th:block th:if="${pb.startPage > pb.pagePerBlock}">
			        <li class="page-item">
			            <a class="page-link"
			               th:href="@{/about/boardList(pageNum=1, board_kind=${board_kind}, search=${search}, keyword=${keyword})}">
			                <i class="icofont-duotone icofont-arrow-first"></i>
			            </a>
			        </li>
			        <li class="page-item">
			            <a class="page-link"
			               th:href="@{/about/boardList(pageNum=${pb.startPage - 1}, board_kind=${board_kind}, search=${search}, keyword=${keyword})}">
			                <i class="bi bi-arrow-left-circle"></i>
			            </a>
			        </li>
			    </th:block>
			
			    <!-- 페이지 번호 -->
			    <th:block th:each="i : ${#numbers.sequence(pb.startPage, pb.endPage)}">
			        <li class="page-item">
			            <a class="page-link"
			               th:classappend="${i == pb.currentPage} ? 'active'"
			               th:href="@{/about/boardList(pageNum=${i}, board_kind=${board_kind}, search=${search}, keyword=${keyword})}">
			                [[${i}]]
			            </a>
			        </li>
			    </th:block>
			
			    <!-- 뒤에 보여줄게 있다 -->
			    <th:block th:if="${pb.endPage < pb.totalPage}">
			        <li class="page-item">
			            <a class="page-link"
			               th:href="@{/about/boardList(pageNum=${pb.endPage + 1}, board_kind=${board_kind}, search=${search}, keyword=${keyword})}">
			                <i class="bi bi-arrow-right-circle"></i>
			            </a>
			        </li>
			        <li class="page-item">
			            <a class="page-link"
			               th:href="@{/about/boardList(pageNum=${pb.totalPage}, board_kind=${board_kind}, search=${search}, keyword=${keyword})}">
			                <i class="icofont-duotone icofont-arrow-last"></i>
			            </a>
			        </li>
			    </th:block>
			</ul>
		</div>
	</div>
</body>
</html>