<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">
<th:block th:insert="~{/header.html::header}"></th:block>
<head>
<title>오예스종합병원｜센터</title>
<link rel="stylesheet" th:href="@{/css/departmentList.css}">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript">
	function ch(keyword, clickedElement) {
		$.post('/center/search', 'keyword=' + keyword, function(data) {
			$('#frag').replaceWith(data)
		});
		$('.btn_list li').removeClass('selected');
		$(clickedElement).parent('li').addClass('selected');
	}
	$(document).ready(function() {
	    // 'b'의 두 번째 li 안의 span을 클릭했을 때
	    $('ul.top_util_list > li:nth-child(2) > span').on('click', function(event) {
	        // 현재 클릭된 span 옆의 'a' ul을 찾음
	        var $dropdown = $(this).siblings('ul.drop_list');
	        // 'a' ul을 토글
	        $dropdown.toggleClass('show');
	        // 이벤트 전파를 막아 document의 click 이벤트가 바로 실행되지 않게 함
	        event.stopPropagation();
	    });

	    // 문서 전체를 클릭했을 때 드롭다운이 열려있으면 닫음
	    $(document).on('click', function() {
	        if ($('ul.drop_list').hasClass('show')) {
	            $('ul.drop_list').removeClass('show');
	        }
	    });

	    // 드롭다운 내부를 클릭했을 때는 닫히지 않도록 이벤트 전파를 막음
	    $('ul.drop_list').on('click', function(event) {
	        event.stopPropagation();
	    });
	});
</script>

</head>
<body>
	<div layout:fragment="contentFragment" id="container">
		<div class="top_bar">
			<ul class="top_util_list">
				<li><a th:href="@{/index}"><span class="home_icon"></span></a></li>
				<li><span>진료과</span>
					<ul class="drop_list">
						<li><a th:href="@{/department/departmentList}">진료과</a></li>
						<li><a th:href="@{/center/centerList}">센터</a></li>
						<li><a th:href="@{/#}">이용안내</a></li>
						<li><a th:href="@{/#}">고객서비스</a></li>
						<li><a th:href="@{/#}">건강정보</a></li>
						<li><a th:href="@{/#}">병원안내</a></li>
					</ul></li>
			</ul>
		</div>
		<div class=center_div>
			<section id="department">
				<h2 class="title">센터</h2>
				<ul class="choose_btn_list">
					<li><a th:href="@{/department/departmentList}">진료과</a></li>
					<li class="selected"><a th:href="@{/center/centerList}">센터</a></li>
				</ul>
				<div class="search_btn_wrap">
					<div class="search_btn">
						<span>초성검색</span>
						<ul class="btn_list">
							<li><a onclick="ch('ㄱ', this)">ㄱ</a></li>
							<li><a onclick="ch('ㄴ', this)">ㄴ</a></li>
							<li><a onclick="ch('ㄷ', this)">ㄷ</a></li>
							<li><a onclick="ch('ㄹ', this)">ㄹ</a></li>
							<li><a onclick="ch('ㅁ', this)">ㅁ</a></li>
							<li><a onclick="ch('ㅂ', this)">ㅂ</a></li>
							<li><a onclick="ch('ㅅ', this)">ㅅ</a></li>
							<li><a onclick="ch('ㅇ', this)">ㅇ</a></li>
							<li><a onclick="ch('ㅈ', this)">ㅈ</a></li>
							<li><a onclick="ch('ㅊ', this)">ㅊ</a></li>
							<li><a onclick="ch('ㅋ', this)">ㅋ</a></li>
							<li><a onclick="ch('ㅌ', this)">ㅌ</a></li>
							<li><a onclick="ch('ㅍ', this)">ㅍ</a></li>
							<li><a onclick="ch('ㅎ', this)">ㅎ</a></li>
							<li><a onclick="ch('AZ', this)">A-Z</a></li>
							<li class="selected"><a th:href="@{/center/centerList}">전체</a></li>
						</ul>
					</div>
				</div>
				<div class="choose_grid_wrap">
					<ul class="choose_grid_list" id="frag">
						<li th:each="center : ${centerList}"><a
							th:href="@{/center/centerDetail(center_id=${center.center_id})}">
								<div class="img_wrap">
									<img th:src="@{/images/}+${center.center_small_img}">
								</div>
								<p>[[${center.center_name}]]</p>
						</a></li>
					</ul>
				</div>
			</section>
		</div>
	</div>
</body>
</html>